{% extends "base.html" %}

{% block title %}Admin - FormApp{% endblock %}

{% block body %}
<div class="min-h-screen bg-gray-100">
    <!-- Sidebar -->
    <div class="fixed inset-y-0 left-0 w-64 bg-gray-800 text-white">
        <div class="p-4 border-b border-gray-700">
            <h1 class="text-xl font-bold">FormApp Admin</h1>
            <p class="text-sm text-gray-400">Painel de Controle</p>
        </div>
        <nav class="mt-4">
            <a href="{{ url_for('admin.dashboard') }}" 
               class="block px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
            </a>
            {% if current_user.is_superuser %}
            <a href="{{ url_for('admin_tenants.list_tenants') }}" 
               class="block px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                <i class="fas fa-building mr-2"></i> Empresas
            </a>
            {% endif %}
            <a href="{{ url_for('auth.logout') }}" 
               class="block px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white">
                <i class="fas fa-sign-out-alt mr-2"></i> Sair
            </a>
        </nav>
    </div>

    <!-- Main content -->
    <div class="ml-64 p-6">
        <!-- Header -->
        <header class="bg-white shadow-sm mb-6 p-4 rounded-lg flex justify-between items-center">
            <h2 class="text-lg font-semibold text-gray-800">{% block header_title %}{% endblock %}</h2>
            <div class="flex items-center space-x-4">
                <span class="text-sm text-gray-600">{{ current_user.email }}</span>
                {% if current_user.is_superuser %}
                <span class="px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full">Admin</span>
                {% endif %}
            </div>
        </header>

        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="mb-4 p-4 rounded-lg {% if category == 'error' %}bg-red-100 text-red-800{% elif category == 'success' %}bg-green-100 text-green-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Page content -->
        <main class="bg-white shadow-sm rounded-lg p-6">
            {% block content %}{% endblock %}
        </main>
    </div>
</div>
{% endblock %}
